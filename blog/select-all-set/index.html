<!DOCTYPE html>
<html lang="en">

<head>
  <title>
  Implementing a ‘Select all’ Checkbox Using ES6 Set
 · prose&const</title>

  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="author" content="Darshak Parikh">
  <meta name="description" content="" />

  <link rel="stylesheet" href="/main.css" />

  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">

  <script type="module" src="https://cdn.skypack.dev/@hotwired/turbo"></script>

  
  <meta name="keywords" content="svelte, set, select, all, javascript, es6, checkbox, multiple">
  
</head>

<body class="default-style">
  <section class="container">
    <style>
.main-header {
  align-items: flex-end;
  gap: 1.25rem;
  justify-content: space-between;
  min-width: 100%;
  padding-bottom: 0.1rem;
  white-space: nowrap;
}

.main-header small {
  color: var(--primary-color-dimmed);
  font-size: 1em;
  line-height: 1.2;
  margin-inline-end: auto;
}

@media (max-width: 719px) {
  .main-header {
    align-items: flex-start;
    flex-direction: column;
    gap: 0.8rem;
  }
}

.header-nav ul {
  gap: 1.5rem;
}

@media (max-width: 719px) {
  .header-nav ul {
    gap: 0.75rem;
  }
}

.header-nav a {
  letter-spacing: 0.1em;
  text-transform: uppercase;
  font-size: 0.85em;
  font-weight: bold;
  color: var(--primary-color-dimmed);
}
</style>

<header class="main-header is-flex is-flex-wrap">
  <style>
/* Fonts */

@font-face {
  font-family: "Playfair Display";
  font-style: normal;
  font-weight: 400;
  src: url("data:font/woff;base64,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")
    format("woff");
}

@font-face {
  font-family: "Lacquer";
  font-style: normal;
  font-weight: 400;
  src: url("data:font/woff2;base64,d09GMgABAAAAAAToAA4AAAAACXgAAASUAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGh4bXhweBmAAPBEICokwhl4LCAABNgIkAwwEIAWDaAcgGykHyMSH2NR/dxCpQ0uO1qkKycxq7lNNtn1Dvoh75v9waWNi2PNPEmBGf7X+aK1Fw8qwLFuUzju7M9h4wHSKutEJZnKRtUFAocrACvd3XETBuOSLaGSAFBRVNMAOfpRdWIyMD85Nwc5mCXhQ2EFIgkKyknEI367g/Qsko5QeQTe2HolI7HbzlJFTYUGOummLIsqTbUgXnCQDdI1UHqqqrirEg1CQxH3pXQPwu2nmsJn8Su+NKeCAj8eJSyKcwMQjRWnFl0soSLoGIRXvR953j4BoEK8XQQXnTGGVjeQ0edYEzlvkgOt43hua52wMsPlvswVYJw2DGVcznaUVdWZImmbm3JLmyw2a5GMGR2rw0oR2CLZ3zBW+bsNXY2wfM3zdBjMMxqI3MQyyjxHTlM+5IOKcGyLMc2TZZOz6aONsQvadI5vnyOdcIx2+Rr5ntXmFn36ZQ9cdbO4sh+44C3tD1xZX7ompMiV0qQTmGHPpqtRUXXd4iMeUzStkc5OgKfsKM+eRzcvA9HH0nFgTvo9IatKaVY5fKkmaQ3dk7tOhX7U79skMfHTg0qEN8VoL/hmyjzFDNpnh/p4WM3w197Vmr4zUzgT26lC5Iwi0eBaw5EVkLpL52T5jICf4Dz1T2qtBO1PCXofup6tPnPrlqVz87QczDsLa2P/G4Fk9V3zzrBm8rXjFiEskqghVEFwKiRM5CqWeK47Pi1WdJPfRgzuXlRply025OZQTtyRQCxFozSrwuZqN5gpinnL7191JlYxPs1ipzepvXXnXGWcMfjjy03BwCOlw7QhP9JMC1qSnL5f3RN97dsMTKZftE30urL149vcBnxeOfbahMi1WiHonsX3lOPM0XrvQWJ8X2xAHV/BI4HLDNQ0QSP5KsfXh1tQ2CYAFVMXllYaKK3vOrHd9N5DcWtKUcCiXCqflnNYbX2i4SlemSaUJu27O6bNYbdS3OP5QrlJ/nuCCIM77LeS54ujKCwHimXniwD9L+eaKgVUJUnL33qL7FsJcvwquqxvPPjr8w1LBPYWF5xYWtCdW+NvrC+K4kEZQITd4xayYC9oTULvPvlB/ZeHUfln1sVt8rZydT7dWsOCQks22m3tmP58/R61XnfGFO+qVELH5wWH3bzukwrg4URAbPEXjb1QQkInRqAB7osOiAABAAJCws9/+OiS0O2jDb3aO+xIA3vxhNg8A3toS/YJ3zX+vcM/yuwFYQQEABPTP78H94l3z3wL3rGBAOM2RX+EkpwL0dKQogxwfADu/A0sup9W4HUPCwcf7KKkr8XYBCALxrJJq7wccVsANeERjAlgQjjpgRTRWuALl1wAjWMACZrAO2cjGPPoxh1HMYAGmLMy/1wSyMI05DCMb1ShCBSrQi37MYhGDmEMm6jCIYSU2gV6FN3XgRb81jSkoUJEFFTnIkS0pC1M+ynpUoRpVKMT6Y1ZUVkwbzMc0ZrDtKXz4iX9ZgRM5ULEWChowgkEo1zlVgzlMYwyD6J88mItFLGDk8Z15KEj5LDmvJIYxOhhbRJ+5fT+mMYnsK/Oij9i80ClTRfhO8J4LJ1wAAAA=")
    format("woff2");
}

@font-face {
  font-family: "Inconsolata";
  font-stretch: 100%;
  font-style: normal;
  font-weight: 420;
  src: url("data:font/woff2;base64,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")
    format("woff2");
}

/* Styles */

.logo {
  color: var(--primary-color-dimmed);
  line-height: 0.9;
  text-decoration: none;
  word-spacing: -0.5ch;
}

.logo-prose {
  font-family: "Playfair Display", serif;
  font-size: 1.8rem;
  letter-spacing: -0.02rem;
}

.logo-and {
  color: var(--accent-color);
  font-family: "Lacquer", cursive;
  font-size: 2rem;
}

.logo-const {
  font-family: "Inconsolata", monospace;
  font-size: 2rem;
  font-weight: 420;
  letter-spacing: -0.13rem;
}
</style>

<a href="/" class="logo">
  <span class="logo-prose">prose</span>
  <span class="logo-and">&</span>
  <span class="logo-const">const</span>
</a>
  <small>Code and musings by Darshak Parikh</small>
  
  <nav class="header-nav">
    <ul class="is-flex">
      
        <li>
          <a href="&#x2F;blog">blog</a>
        </li>
      
        <li>
          <a href="&#x2F;digital-garden">digital garden</a>
        </li>
      
        <li>
          <a href="&#x2F;projects">projects</a>
        </li>
      
        <li>
          <a href="&#x2F;about">about</a>
        </li>
      
    </ul>
  </nav>
</header>
    
<main class="page-wrapper is-centered-y is-flex-column">
  <article class="page is-flex-column">
    <header>
      <h1>Implementing a ‘Select all’ Checkbox Using ES6 Set</h1>
      <div class="byline-container">
        <span class="byline date">
          
            Posted
            <time class="value" datetime="2020-11-21" pubdate>21 Nov 2020</time>
          
          
        </span>
        
          &middot;
          <span class="byline tags">
            
              <a class="tag" href="https://proseandconst.xyz/tags/web/">#web</a>
            
          </span>
        
      </div>
    </header>
    <section class="page-body">
      <h2 id="problem-statement">Problem statement</h2>
<p>Say you have a list of selectable items like emails or todos. There’s a checkbox next to each item, and the user can select multiple items to do some action with them.</p>
<p>Since you love your users, you don’t want them to always select items one by one, so you provide a ‘Select all’ checkbox. There are four criteria you need to fulfill:</p>
<ol>
<li>On checking the ‘Select all’ checkbox, all item checkboxes should be checked.</li>
<li>On unchecking the ‘Select all’ checkbox, all item checkboxes should be unchecked.</li>
<li>On individually checking each item checkbox, the ‘Select all’ checkbox should also be checked.</li>
<li>On unchecking at least one item checkbox, the ‘Select all’ checkbox should also be unchecked.</li>
</ol>
<h2 id="why-use-a-set">Why use a set?</h2>
<p>You could use an array for this, and indeed, most of the code I have mentioned can be adapted for an array. However, we put our selected items in a set for these reasons:</p>
<ul>
<li>We don’t care about the order.</li>
<li>Removing an item from a set is trivial: just call <code>.delete(item)</code>. It’s not so easy for arrays. You have to find the index of that item, either implicitly or explicitly.</li>
<li>You don’t have to look out for duplicate items while adding or removing them.</li>
<li>You don’t have to look out for empty slots after removing items.</li>
</ul>
<p>I am going to provide a step-by-step solution to this. The code uses Svelte, but you should be able to adapt it to React, Angular, Vue or any other framework.</p>
<h2 id="step-1-display-the-checkboxes">Step 1: Display the checkboxes</h2>
<p>In our <code>&lt;List&gt;</code> component, we define an array of items and render each item in a list of checkboxes.</p>
<pre data-lang="html" style="background-color:#0f1419;color:#bfbab0;" class="language-html "><code class="language-html" data-lang="html"><span style="color:#39bae690;">&lt;</span><span style="color:#59c2ff;">script</span><span style="color:#39bae690;">&gt;
</span><span>  </span><span style="color:#ff7733;">const </span><span>ducks </span><span style="color:#f29668;">= </span><span>[</span><span style="color:#c2d94c;">&#39;Huey&#39;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&#39;Dewey&#39;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&#39;Louie&#39;</span><span>]</span><span style="color:#bfbab0cc;">;
</span><span style="color:#39bae690;">&lt;/</span><span style="color:#59c2ff;">script</span><span style="color:#39bae690;">&gt;
</span><span>
</span><span style="color:#39bae690;">&lt;</span><span style="color:#59c2ff;">style</span><span style="color:#39bae690;">&gt;
</span><span>  </span><span style="color:#59c2ff;">ol </span><span>{
</span><span>    </span><span style="color:#39bae6;">list-style-type</span><span style="color:#bfbab0cc;">: </span><span style="font-style:italic;color:#f29668;">none</span><span style="color:#bfbab0cc;">;
</span><span>    </span><span style="color:#39bae6;">padding-left</span><span style="color:#bfbab0cc;">: </span><span style="color:#f29718;">0</span><span style="color:#bfbab0cc;">;
</span><span>  }
</span><span style="color:#39bae690;">&lt;/</span><span style="color:#59c2ff;">style</span><span style="color:#39bae690;">&gt;
</span><span>
</span><span style="color:#39bae690;">&lt;</span><span style="color:#59c2ff;">ol</span><span style="color:#39bae690;">&gt;
</span><span>  {#each ducks as duck}
</span><span>    </span><span style="color:#39bae690;">&lt;</span><span style="color:#59c2ff;">li</span><span style="color:#39bae690;">&gt;
</span><span>      </span><span style="color:#39bae690;">&lt;</span><span style="color:#59c2ff;">input </span><span style="color:#ffb454;">type</span><span style="color:#bfbab0cc;">=</span><span style="color:#c2d94c;">&quot;checkbox&quot; </span><span style="color:#ffb454;">id</span><span style="color:#bfbab0cc;">=</span><span style="color:#c2d94c;">{duck} </span><span style="color:#ffb454;">value</span><span style="color:#bfbab0cc;">=</span><span style="color:#c2d94c;">{duck}</span><span style="color:#39bae690;">&gt;
</span><span>      </span><span style="color:#39bae690;">&lt;</span><span style="color:#59c2ff;">label </span><span style="color:#ffb454;">for</span><span style="color:#bfbab0cc;">=</span><span style="color:#c2d94c;">{duck}</span><span style="color:#39bae690;">&gt;</span><span>{duck}</span><span style="color:#39bae690;">&lt;/</span><span style="color:#59c2ff;">label</span><span style="color:#39bae690;">&gt;
</span><span>    </span><span style="color:#39bae690;">&lt;/</span><span style="color:#59c2ff;">li</span><span style="color:#39bae690;">&gt;
</span><span>  {/each}
</span><span style="color:#39bae690;">&lt;/</span><span style="color:#59c2ff;">ol</span><span style="color:#39bae690;">&gt;
</span></code></pre>
<p>This works as you might expect.</p>
<p><img src="/images/select-all-set/item-boxes-unchecked.png" alt="Three checkboxes saying ‘Huey’, ‘Dewey’ and ‘Louie’" /></p>
<h2 id="step-2-add-a-select-all-checkbox">Step 2: Add a ‘Select all’ checkbox</h2>
<p>We do this by adding another <code>&lt;li&gt;</code> above the loop.</p>
<pre data-lang="html" style="background-color:#0f1419;color:#bfbab0;" class="language-html "><code class="language-html" data-lang="html"><span style="color:#39bae690;">&lt;</span><span style="color:#59c2ff;">ol</span><span style="color:#39bae690;">&gt;
</span><span>  </span><span style="color:#39bae690;">&lt;</span><span style="color:#59c2ff;">li</span><span style="color:#39bae690;">&gt;
</span><span>    </span><span style="color:#39bae690;">&lt;</span><span style="color:#59c2ff;">input </span><span style="color:#ffb454;">type</span><span style="color:#bfbab0cc;">=</span><span style="color:#c2d94c;">&quot;checkbox&quot; </span><span style="color:#ffb454;">id</span><span style="color:#bfbab0cc;">=</span><span style="color:#c2d94c;">&quot;select-all&quot;</span><span style="color:#39bae690;">&gt;
</span><span>    </span><span style="color:#39bae690;">&lt;</span><span style="color:#59c2ff;">label </span><span style="color:#ffb454;">for</span><span style="color:#bfbab0cc;">=</span><span style="color:#c2d94c;">&quot;select-all&quot;</span><span style="color:#39bae690;">&gt;&lt;</span><span style="color:#59c2ff;">strong</span><span style="color:#39bae690;">&gt;</span><span>Select all</span><span style="color:#39bae690;">&lt;/</span><span style="color:#59c2ff;">strong</span><span style="color:#39bae690;">&gt;&lt;/</span><span style="color:#59c2ff;">label</span><span style="color:#39bae690;">&gt;
</span><span>  </span><span style="color:#39bae690;">&lt;/</span><span style="color:#59c2ff;">li</span><span style="color:#39bae690;">&gt;
</span><span>  {#each ducks as duck}
</span><span>    </span><span style="color:#39bae690;">&lt;</span><span style="color:#59c2ff;">li</span><span style="color:#39bae690;">&gt;
</span><span>      </span><span style="color:#39bae690;">&lt;</span><span style="color:#59c2ff;">input </span><span style="color:#ffb454;">type</span><span style="color:#bfbab0cc;">=</span><span style="color:#c2d94c;">&quot;checkbox&quot; </span><span style="color:#ffb454;">id</span><span style="color:#bfbab0cc;">=</span><span style="color:#c2d94c;">{duck} </span><span style="color:#ffb454;">value</span><span style="color:#bfbab0cc;">=</span><span style="color:#c2d94c;">{duck}</span><span style="color:#39bae690;">&gt;
</span><span>      </span><span style="color:#39bae690;">&lt;</span><span style="color:#59c2ff;">label </span><span style="color:#ffb454;">for</span><span style="color:#bfbab0cc;">=</span><span style="color:#c2d94c;">{duck}</span><span style="color:#39bae690;">&gt;</span><span>{duck}</span><span style="color:#39bae690;">&lt;/</span><span style="color:#59c2ff;">label</span><span style="color:#39bae690;">&gt;
</span><span>    </span><span style="color:#39bae690;">&lt;/</span><span style="color:#59c2ff;">li</span><span style="color:#39bae690;">&gt;
</span><span>  {/each}
</span><span style="color:#39bae690;">&lt;/</span><span style="color:#59c2ff;">ol</span><span style="color:#39bae690;">&gt;
</span></code></pre>
<p>It will, again, meet expectations.</p>
<p><img src="/images/select-all-set/all-boxes-unchecked.png" alt="A ‘Select all’ checkbox in above three duck checkboxes" /></p>
<h2 id="step-3-define-a-set-to-hold-the-selected-values">Step 3: Define a set to hold the selected values</h2>
<p>We initialize an empty set called <code>selectedDucks</code>. Every time a user checks a box, we add it to the set. Every time they uncheck one, we remove it from the set.</p>
<pre data-lang="html" style="background-color:#0f1419;color:#bfbab0;" class="language-html "><code class="language-html" data-lang="html"><span style="color:#39bae690;">&lt;</span><span style="color:#59c2ff;">script</span><span style="color:#39bae690;">&gt;
</span><span>  </span><span style="color:#ff7733;">const </span><span>ducks </span><span style="color:#f29668;">= </span><span>[</span><span style="color:#c2d94c;">&#39;Huey&#39;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&#39;Dewey&#39;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&#39;Louie&#39;</span><span>]</span><span style="color:#bfbab0cc;">;
</span><span>
</span><span>  </span><span style="color:#ff7733;">let </span><span>selectedDucks </span><span style="color:#f29668;">= </span><span style="color:#ff7733;">new </span><span style="font-style:italic;color:#39bae6;">Set</span><span>()</span><span style="color:#bfbab0cc;">;
</span><span>
</span><span>  </span><span style="color:#ff7733;">const </span><span>onCheckDuck </span><span style="color:#f29668;">= </span><span style="color:#f29718;">event </span><span style="color:#ff7733;">=&gt; </span><span>{
</span><span>    </span><span style="color:#ff7733;">if </span><span>(event</span><span style="color:#f29668;">.</span><span>target</span><span style="color:#f29668;">.</span><span>checked) {
</span><span>      selectedDucks</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">add</span><span>(event</span><span style="color:#f29668;">.</span><span>target</span><span style="color:#f29668;">.</span><span>value)</span><span style="color:#bfbab0cc;">;
</span><span>    } </span><span style="color:#ff7733;">else </span><span>{
</span><span>      selectedDucks</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">delete</span><span>(event</span><span style="color:#f29668;">.</span><span>target</span><span style="color:#f29668;">.</span><span>value)</span><span style="color:#bfbab0cc;">;
</span><span>    }
</span><span>    selectedDucks </span><span style="color:#f29668;">= </span><span>selectedDucks</span><span style="color:#bfbab0cc;">;
</span><span>  }</span><span style="color:#bfbab0cc;">;
</span><span style="color:#39bae690;">&lt;/</span><span style="color:#59c2ff;">script</span><span style="color:#39bae690;">&gt;
</span></code></pre>
<p>Notice how we add a redundant assignment? <code>selectedDucks = selectedDucks;</code> would do nothing in plain JavaScript, but we need it here to tell Svelte to rerender the component. Calling methods like <code>.add()</code> and <code>.delete()</code> on a set does not rerender it.</p>
<p>Next, we bind <code>onCheckDuck</code> to the <code>change</code> event on the checkboxes.</p>
<pre data-lang="html" style="background-color:#0f1419;color:#bfbab0;" class="language-html "><code class="language-html" data-lang="html"><span>{#each ducks as duck}
</span><span>  </span><span style="color:#39bae690;">&lt;</span><span style="color:#59c2ff;">li</span><span style="color:#39bae690;">&gt;
</span><span>    </span><span style="color:#39bae690;">&lt;</span><span style="color:#59c2ff;">input </span><span style="color:#ffb454;">type</span><span style="color:#bfbab0cc;">=</span><span style="color:#c2d94c;">&quot;checkbox&quot; </span><span style="color:#ffb454;">id</span><span style="color:#bfbab0cc;">=</span><span style="color:#c2d94c;">{duck} </span><span style="color:#ffb454;">value</span><span style="color:#bfbab0cc;">=</span><span style="color:#c2d94c;">{duck} </span><span style="color:#ffb454;">checked</span><span style="color:#bfbab0cc;">=</span><span style="color:#c2d94c;">{selectedDucks.has(duck)} </span><span style="color:#ffb454;">on:change</span><span style="color:#bfbab0cc;">=</span><span style="color:#c2d94c;">{onCheckDuck}</span><span style="color:#39bae690;">&gt;
</span><span>    </span><span style="color:#39bae690;">&lt;</span><span style="color:#59c2ff;">label </span><span style="color:#ffb454;">for</span><span style="color:#bfbab0cc;">=</span><span style="color:#c2d94c;">{duck}</span><span style="color:#39bae690;">&gt;</span><span>{duck}</span><span style="color:#39bae690;">&lt;/</span><span style="color:#59c2ff;">label</span><span style="color:#39bae690;">&gt;
</span><span>  </span><span style="color:#39bae690;">&lt;/</span><span style="color:#59c2ff;">li</span><span style="color:#39bae690;">&gt;
</span><span>{/each}
</span></code></pre>
<p>We bind the <code>checked</code> attribute of each item to its presence in the set. We need to do this one-way binding so that if the set is updated from elsewhere (which it will), the checkbox gets checked too.</p>
<h2 id="step-4-bind-the-select-all-checkbox">Step 4: Bind the ‘Select all’ checkbox</h2>
<p>Just like the item checkboxes, we handle the <code>change</code> event on the ‘Select all’ checkbox too. The difference is that when it is checked, we add all the items to the set, and when it is unchecked, we clear the set. This will affect the <code>checked</code> attribute on item checkboxes, thus satisfying our first two criteria.</p>
<pre data-lang="js" style="background-color:#0f1419;color:#bfbab0;" class="language-js "><code class="language-js" data-lang="js"><span style="color:#ff7733;">const </span><span style="color:#ffb454;">onSelectAll </span><span style="color:#f29668;">= </span><span style="color:#f29718;">event </span><span style="color:#ff7733;">=&gt; </span><span>{
</span><span>  </span><span style="color:#ff7733;">if </span><span>(event</span><span style="color:#f29668;">.</span><span>target</span><span style="color:#f29668;">.</span><span>checked) {
</span><span>    selectedDucks </span><span style="color:#f29668;">= new </span><span style="color:#59c2ff;">Set</span><span>(ducks)</span><span style="color:#bfbab0cc;">;
</span><span>  } </span><span style="color:#ff7733;">else </span><span>{
</span><span>    selectedDucks</span><span style="color:#f29668;">.</span><span style="color:#f07178;">clear</span><span>()</span><span style="color:#bfbab0cc;">;
</span><span>  }
</span><span>  selectedDucks </span><span style="color:#f29668;">= </span><span>selectedDucks</span><span style="color:#bfbab0cc;">;
</span><span>}</span><span style="color:#bfbab0cc;">;
</span></code></pre>
<pre data-lang="html" style="background-color:#0f1419;color:#bfbab0;" class="language-html "><code class="language-html" data-lang="html"><span style="color:#39bae690;">&lt;</span><span style="color:#59c2ff;">li</span><span style="color:#39bae690;">&gt;
</span><span>  </span><span style="color:#39bae690;">&lt;</span><span style="color:#59c2ff;">input </span><span style="color:#ffb454;">type</span><span style="color:#bfbab0cc;">=</span><span style="color:#c2d94c;">&quot;checkbox&quot; </span><span style="color:#ffb454;">id</span><span style="color:#bfbab0cc;">=</span><span style="color:#c2d94c;">&quot;select-all&quot; </span><span style="color:#ffb454;">checked</span><span style="color:#bfbab0cc;">=</span><span style="color:#c2d94c;">{selectedDucks.size</span><span> === </span><span style="color:#ffb454;">ducks.length} on:change</span><span style="color:#bfbab0cc;">=</span><span style="color:#c2d94c;">{onSelectAll}</span><span style="color:#39bae690;">&gt;
</span><span>  </span><span style="color:#39bae690;">&lt;</span><span style="color:#59c2ff;">label </span><span style="color:#ffb454;">for</span><span style="color:#bfbab0cc;">=</span><span style="color:#c2d94c;">&quot;select-all&quot;</span><span style="color:#39bae690;">&gt;&lt;</span><span style="color:#59c2ff;">strong</span><span style="color:#39bae690;">&gt;</span><span>Select all</span><span style="color:#39bae690;">&lt;/</span><span style="color:#59c2ff;">strong</span><span style="color:#39bae690;">&gt;&lt;/</span><span style="color:#59c2ff;">label</span><span style="color:#39bae690;">&gt;
</span><span style="color:#39bae690;">&lt;/</span><span style="color:#59c2ff;">li</span><span style="color:#39bae690;">&gt;
</span></code></pre>
<p>Did you see how we bound the <code>checked</code> attribute based on the size of the set? This way, the ‘Select all’ checkbox will get automatically checked and unchecked depending on whether all the item checkboxes are checked. This satisfies the third and fourth criteria.</p>
<h2 id="that-s-all-folks">That’s all, folks!</h2>
<p>We used a set to define which items the user has selected. Based on the contents of the set, we checked and unchecked a ‘Select all’ button. We also handled user interaction on the ‘Select all’ checkbox to fill or empty the set, which in turn checks or unchecks the item checkboxes.</p>
<p>Here is the full code for your reference.</p>
<pre data-lang="html" style="background-color:#0f1419;color:#bfbab0;" class="language-html "><code class="language-html" data-lang="html"><span style="color:#39bae690;">&lt;</span><span style="color:#59c2ff;">script</span><span style="color:#39bae690;">&gt;
</span><span>  </span><span style="color:#ff7733;">const </span><span>ducks </span><span style="color:#f29668;">= </span><span>[</span><span style="color:#c2d94c;">&#39;Huey&#39;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&#39;Dewey&#39;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&#39;Louie&#39;</span><span>]</span><span style="color:#bfbab0cc;">;
</span><span>
</span><span>  </span><span style="color:#ff7733;">let </span><span>selectedDucks </span><span style="color:#f29668;">= </span><span style="color:#ff7733;">new </span><span style="font-style:italic;color:#39bae6;">Set</span><span>()</span><span style="color:#bfbab0cc;">;
</span><span>
</span><span>  </span><span style="color:#ff7733;">const </span><span>onCheckDuck </span><span style="color:#f29668;">= </span><span style="color:#f29718;">event </span><span style="color:#ff7733;">=&gt; </span><span>{
</span><span>    </span><span style="color:#ff7733;">if </span><span>(event</span><span style="color:#f29668;">.</span><span>target</span><span style="color:#f29668;">.</span><span>checked) {
</span><span>      selectedDucks</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">add</span><span>(event</span><span style="color:#f29668;">.</span><span>target</span><span style="color:#f29668;">.</span><span>value)</span><span style="color:#bfbab0cc;">;
</span><span>    } </span><span style="color:#ff7733;">else </span><span>{
</span><span>      selectedDucks</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">delete</span><span>(event</span><span style="color:#f29668;">.</span><span>target</span><span style="color:#f29668;">.</span><span>value)</span><span style="color:#bfbab0cc;">;
</span><span>    }
</span><span>    selectedDucks </span><span style="color:#f29668;">= </span><span>selectedDucks</span><span style="color:#bfbab0cc;">;
</span><span>  }</span><span style="color:#bfbab0cc;">;
</span><span>
</span><span>  </span><span style="color:#ff7733;">const </span><span>onSelectAll </span><span style="color:#f29668;">= </span><span style="color:#f29718;">event </span><span style="color:#ff7733;">=&gt; </span><span>{
</span><span>    </span><span style="color:#ff7733;">if </span><span>(event</span><span style="color:#f29668;">.</span><span>target</span><span style="color:#f29668;">.</span><span>checked) {
</span><span>      selectedDucks </span><span style="color:#f29668;">= </span><span style="color:#ff7733;">new </span><span style="font-style:italic;color:#39bae6;">Set</span><span>(ducks)</span><span style="color:#bfbab0cc;">;
</span><span>    } </span><span style="color:#ff7733;">else </span><span>{
</span><span>      selectedDucks</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">clear</span><span>()</span><span style="color:#bfbab0cc;">;
</span><span>    }
</span><span>    selectedDucks </span><span style="color:#f29668;">= </span><span>selectedDucks</span><span style="color:#bfbab0cc;">;
</span><span>  }</span><span style="color:#bfbab0cc;">;
</span><span style="color:#39bae690;">&lt;/</span><span style="color:#59c2ff;">script</span><span style="color:#39bae690;">&gt;
</span><span>
</span><span style="color:#39bae690;">&lt;</span><span style="color:#59c2ff;">style</span><span style="color:#39bae690;">&gt;
</span><span>  </span><span style="color:#59c2ff;">ol </span><span>{
</span><span>    </span><span style="color:#39bae6;">list-style-type</span><span style="color:#bfbab0cc;">: </span><span style="font-style:italic;color:#f29668;">none</span><span style="color:#bfbab0cc;">;
</span><span>    </span><span style="color:#39bae6;">padding-left</span><span style="color:#bfbab0cc;">: </span><span style="color:#f29718;">0</span><span style="color:#bfbab0cc;">;
</span><span>  }
</span><span style="color:#39bae690;">&lt;/</span><span style="color:#59c2ff;">style</span><span style="color:#39bae690;">&gt;
</span><span>
</span><span style="color:#39bae690;">&lt;</span><span style="color:#59c2ff;">ol</span><span style="color:#39bae690;">&gt;
</span><span>  </span><span style="color:#39bae690;">&lt;</span><span style="color:#59c2ff;">li</span><span style="color:#39bae690;">&gt;
</span><span>    </span><span style="color:#39bae690;">&lt;</span><span style="color:#59c2ff;">input </span><span style="color:#ffb454;">type</span><span style="color:#bfbab0cc;">=</span><span style="color:#c2d94c;">&quot;checkbox&quot; </span><span style="color:#ffb454;">id</span><span style="color:#bfbab0cc;">=</span><span style="color:#c2d94c;">&quot;select-all&quot; </span><span style="color:#ffb454;">checked</span><span style="color:#bfbab0cc;">=</span><span style="color:#c2d94c;">{selectedDucks.size</span><span> === </span><span style="color:#ffb454;">ducks.length} on:change</span><span style="color:#bfbab0cc;">=</span><span style="color:#c2d94c;">{onSelectAll}</span><span style="color:#39bae690;">&gt;
</span><span>    </span><span style="color:#39bae690;">&lt;</span><span style="color:#59c2ff;">label </span><span style="color:#ffb454;">for</span><span style="color:#bfbab0cc;">=</span><span style="color:#c2d94c;">&quot;select-all&quot;</span><span style="color:#39bae690;">&gt;&lt;</span><span style="color:#59c2ff;">strong</span><span style="color:#39bae690;">&gt;</span><span>Select all</span><span style="color:#39bae690;">&lt;/</span><span style="color:#59c2ff;">strong</span><span style="color:#39bae690;">&gt;&lt;/</span><span style="color:#59c2ff;">label</span><span style="color:#39bae690;">&gt;
</span><span>  </span><span style="color:#39bae690;">&lt;/</span><span style="color:#59c2ff;">li</span><span style="color:#39bae690;">&gt;
</span><span>  {#each ducks as duck}
</span><span>    </span><span style="color:#39bae690;">&lt;</span><span style="color:#59c2ff;">li</span><span style="color:#39bae690;">&gt;
</span><span>      </span><span style="color:#39bae690;">&lt;</span><span style="color:#59c2ff;">input </span><span style="color:#ffb454;">type</span><span style="color:#bfbab0cc;">=</span><span style="color:#c2d94c;">&quot;checkbox&quot; </span><span style="color:#ffb454;">id</span><span style="color:#bfbab0cc;">=</span><span style="color:#c2d94c;">{duck} </span><span style="color:#ffb454;">value</span><span style="color:#bfbab0cc;">=</span><span style="color:#c2d94c;">{duck} </span><span style="color:#ffb454;">checked</span><span style="color:#bfbab0cc;">=</span><span style="color:#c2d94c;">{selectedDucks.has(duck)} </span><span style="color:#ffb454;">on:change</span><span style="color:#bfbab0cc;">=</span><span style="color:#c2d94c;">{onCheckDuck}</span><span style="color:#39bae690;">&gt;
</span><span>      </span><span style="color:#39bae690;">&lt;</span><span style="color:#59c2ff;">label </span><span style="color:#ffb454;">for</span><span style="color:#bfbab0cc;">=</span><span style="color:#c2d94c;">{duck}</span><span style="color:#39bae690;">&gt;</span><span>{duck}</span><span style="color:#39bae690;">&lt;/</span><span style="color:#59c2ff;">label</span><span style="color:#39bae690;">&gt;
</span><span>    </span><span style="color:#39bae690;">&lt;/</span><span style="color:#59c2ff;">li</span><span style="color:#39bae690;">&gt;
</span><span>  {/each}
</span><span style="color:#39bae690;">&lt;/</span><span style="color:#59c2ff;">ol</span><span style="color:#39bae690;">&gt;
</span><span>
</span><span style="color:#39bae690;">&lt;</span><span style="color:#59c2ff;">p</span><span style="color:#39bae690;">&gt;</span><span>{selectedDucks.size} ducks selected.</span><span style="color:#39bae690;">&lt;/</span><span style="color:#59c2ff;">p</span><span style="color:#39bae690;">&gt;
</span></code></pre>

    </section>
    
      <footer class="page-footer">
        <address class="is-centered-y">
          <div class="headshot-small"><img alt="Darshak Parikh's photo" src="/images/photo.webp"/> </div>
          <div>
            <p>Hello, I’m Darshak Parikh. I write apps
              <a href="https://github.com/elfenware" target="_blank">for elementary OS</a>
              and
              <a href="https://github.com/dar5hak" target="_blank">the web</a>.
                                And I read
              <a href="digital-garden/books/">books</a>
              and
              <a href="digital-garden/manga-and-friends/">stuff</a>.
            </p>
            <p>
              Know more <a href="/about">about me</a>, subscribe to my <a href="/atom.xml" target="_blank">feed</a>, or reach out to me on
              <a href="https://im-in.space/@dubiousdisc" rel="noopener" target="_blank">Mastodon</a>.
            </p>
          </div>
        </address>
      </footer>
    
  </article>
</main>
     
  </section>
</body>

</html>
